DROP SCHEMA IF EXISTS PRDMGT;
CREATE SCHEMA PRDMGT;

DROP TABLE IF EXISTS PRDMGT.CATEGORY;
CREATE TABLE PRDMGT.CATEGORY (
	ID INT auto_increment PRIMARY KEY,
	CODE VARCHAR(255),
	NAME VARCHAR(255),
	
	CREATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_BY VARCHAR(255) NOT NULL,
	UPDATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_BY VARCHAR(255) NOT NULL
);

DROP TABLE IF EXISTS PRDMGT.PRODUCT;
CREATE TABLE PRDMGT.PRODUCT (
	ID INT auto_increment PRIMARY KEY,
	CODE VARCHAR(255),
	NAME VARCHAR(255),
	
	CREATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_BY VARCHAR(255) NOT NULL,
	UPDATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_BY VARCHAR(255) NOT NULL
);

DROP TABLE IF EXISTS PRDMGT.PRODUCT_CATEGORY;
CREATE TABLE PRDMGT.PRODUCT_CATEGORY(
	ID INT auto_increment PRIMARY KEY,
	PRODUCT_ID INT NOT NULL,
	CATEGORY_ID INT NOT NULL,
	FOREIGN KEY (PRODUCT_ID) REFERENCES PRDMGT.PRODUCT(ID),
	FOREIGN KEY (CATEGORY_ID) REFERENCES PRDMGT.CATEGORY(ID),
	
	CREATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_BY VARCHAR(255) NOT NULL,
	UPDATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_BY VARCHAR(255) NOT NULL
);


--INIT DATA
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 1,'REGULAR','REGULAR','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 2,'SPECIAL','SPECIAL','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 3,'MASK','MASK','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 4,'WETSUIT','WETSUIT','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 5,'REGULATOR','REGULATOR','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 6,'DIVECOMP','DIVECOMP','dba','dba');
INSERT INTO PRDMGT.CATEGORY (ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 7,'BCD','BCD','dba','dba');

INSERT INTO PRDMGT.PRODUCT( ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 1,'BC-123456','Beuchat Maxlux Scuba Mask','dba','dba');
INSERT INTO PRDMGT.PRODUCT( ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 2,'BC-123457','Beuchat Maxlux 2 Scuba Mask','dba','dba');
INSERT INTO PRDMGT.PRODUCT( ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 3,'OC-123459','Oceanic Geo 2','dba','dba');
INSERT INTO PRDMGT.PRODUCT( ID, CODE, NAME, CREATE_BY, UPDATE_BY) VALUES ( 4,'SP-123460','ScubaPro X-TEK BCD','dba','dba');

INSERT INTO PRDMGT.PRODUCT_CATEGORY (PRODUCT_ID,CATEGORY_ID,CREATE_BY,UPDATE_BY) VALUES (1,1,'dba','dba');
INSERT INTO PRDMGT.PRODUCT_CATEGORY (PRODUCT_ID,CATEGORY_ID,CREATE_BY,UPDATE_BY) VALUES (1,3,'dba','dba');
INSERT INTO PRDMGT.PRODUCT_CATEGORY (PRODUCT_ID,CATEGORY_ID,CREATE_BY,UPDATE_BY) VALUES (2,3,'dba','dba');
INSERT INTO PRDMGT.PRODUCT_CATEGORY (PRODUCT_ID,CATEGORY_ID,CREATE_BY,UPDATE_BY) VALUES (3,6,'dba','dba');
INSERT INTO PRDMGT.PRODUCT_CATEGORY (PRODUCT_ID,CATEGORY_ID,CREATE_BY,UPDATE_BY) VALUES (4,7,'dba','dba');